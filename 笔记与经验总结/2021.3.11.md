# 2021.3.11
## 今日开发主题
测试之前写好但有问题的 SVD 算法。
## 经验总结
编写 SVD 参考的文档：https://www.cnblogs.com/pinard/p/6251584.html

23:20 - 程序代码如下
```matlab
function homemade_svd(matrixToCompute)
    matrixA = matrixToCompute'*matrixToCompute;
    matrixB = matrixToCompute*matrixToCompute';
    % 记待求矩阵为A，求解A'A和AA'
    [eigVecA,eigValueA]=eig(matrixA);
    [eigVecB,eigValueB]=eig(matrixB);
    singularValueMatrix=sqrt(eigValueB(:,2:3))
%     下面这行代码仅针对某些特定矩阵能起到纠正答案的作用，
%     在测试其他矩阵的时候就出现了问题。
%     ANS=eigVecB*diag([1 -1 1])*singularValueMatrix*eigVecA'
    ANS=eigVecB*singularValueMatrix*eigVecA'
end 
```
事实上没有对算法做什么修改，仅仅测试了下面这个数据：
```
>> homemade_svd([1 1;2 3;1 0])

singularValueMatrix =

         0         0
    0.8485         0
         0    3.9090


ANS =

    1.0000    1.0000
    2.0000    3.0000
    1.0000   -0.0000
```
这个矩阵是随意选择出来的，但是我们自制的 SVD 算法直接给出了正确的结果。

3.9 的日志中提到，特征向量的符号并不是一个有明显影响的因素，

但在借助特征值分解的方法做奇异值分解时，每一个特征向量的符号都必须是“正确的”，才能保证 SVD 得到正确的左右奇异矩阵和奇异值矩阵。

但是我们自制的 SVD 算法在什么情况下会出现符号差错、为什么会出现符号差错，仍然是悬而未决的问题。
## 待解决的问题
通过 eig() 函数无法稳定地得到正确的左右奇异矩阵，从而无法与奇异值矩阵一起还原出原始矩阵。

找到符号差错的原因并解决这一问题，是目前的主要任务。

从 eig() 解出特征值矩阵后，如何从特征值矩阵（方阵）获取奇异值矩阵（非方阵），也是一个问题。

目前使用的截断方法不具有一般性，需要找到一个能从任何尺寸的特征值矩阵求出任何尺寸的奇异值矩阵的方法。
